@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@model FrontEnd.Modules.Base.Models.BaseModuleViewModel
@inject FrontEnd.Core.Interfaces.IWebPackService WebPackService

<!DOCTYPE html>
<html>
<head runat="server">
    <title>@Localizer["Wiser 3 - Import"]</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="//kendo.cdn.telerik.com/2022.2.621/styles/kendo.common-material.min.css" rel="stylesheet" />
    <link href="//kendo.cdn.telerik.com/2022.2.621/styles/kendo.material.min.css" rel="stylesheet" />

    <script>
        window.wiserVersion = "@Model.WiserVersion?.ToString()";
    </script>
    <style>
        #wiser, #import-upload {
            display: none;
        }
    </style>
</head>
<body data-wiser-api-root="@Model.ApiRoot"
      data-wiser-api-authentication-url="@Model.ApiAuthenticationUrl"
      data-is-test-environment="@Model.IsTestEnvironment.ToString().ToLowerInvariant()"
      data-api-client-id="@Model.Settings.ApiClientId"
      data-api-client-secret="@Model.Settings.ApiClientSecret"
      data-sub-domain="@Model.SubDomain"
      data-track-js-token="@Model.Settings.TrackJsToken">
    <div id="wiser">
        <div id="window" class="import-module" style="margin: 0 auto; padding: 0;">
            <div class="pane-content">
                <div id="mainLoader" class="fullscreen-loader loading">
                    <div class="loader-icon">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>

                <div id="ImportHtml"></div>
            </div>

            <!-- WINDOW - ALERT -->
            <div id="import-upload" class="x-window alert-window">
                <div class="item clear">
                    <p>@Localizer["The import is prepared. You will be notified as soon as it is completed."]</p>
                    <button id="closeButton" class="k-primary button rightButton">@Localizer["OK"]</button>
                </div>
            </div>
        </div>
    </div>

    <script src="@await WebPackService.GetManifestFileAsync("Utils.js")"></script>
    <script src="@await WebPackService.GetManifestFileAsync("Base.js")"></script>
    <script src="@await WebPackService.GetManifestFileAsync("Import.js")"></script>
</body>
</html>
