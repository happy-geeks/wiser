@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@using GeeksCoreLibrary.Modules.Templates.Enums
@model Api.Modules.Templates.Models.Template.TemplateSettingsModel
<div class="item item-left" style="width: 50%;">
    <div class="item full-width" data-label-style="float" data-label-width="0">
        <h4><label for="combo-cache">@Localizer["Cache"]</label></h4>
        <div class="flex-container">
            <select id="combo-cache" class="combo-select" data-kendo-control="kendoDropDownList" name="useCache">
                <!option value="@((int)TemplateCachingModes.NoCaching)" @(Model.UseCache == TemplateCachingModes.NoCaching ? "selected" : "")>@Localizer["No caching"]</!option>
                <!option value="@((int)TemplateCachingModes.ServerSideCaching)" @(Model.UseCache == TemplateCachingModes.ServerSideCaching ? "selected" : "")>@Localizer["server caching full template (regardless of URL)"]</!option>
                <!option value="@((int)TemplateCachingModes.ServerSideCachingPerUrl)" @(Model.UseCache == TemplateCachingModes.ServerSideCachingPerUrl ? "selected" : "")>@Localizer["server caching full template (per SEO friendly URL different)"]</!option>
                <!option value="@((int)TemplateCachingModes.ServerSideCachingPerUrlAndQueryString)" @(Model.UseCache == TemplateCachingModes.ServerSideCachingPerUrlAndQueryString ? "selected" : "")>@Localizer["server caching full template (per SEO friendly URL + query string combination different)"]</!option>
                <!option value="@((int)TemplateCachingModes.ServerSideCachingPerHostNameAndQueryString)" @(Model.UseCache == TemplateCachingModes.ServerSideCachingPerHostNameAndQueryString ? "selected" : "")>@Localizer["server caching full template (based on full URL, including domain and query string)"]</!option>
            </select>
        </div>
        <div class="form-hint"><span>@Localizer["Should caching be enabled for this template? If yes, what kind of caching. For example, caching can be the same for all URLs, or separate cache per URL/querystring."]</span></div>
    </div>

    <div class="item" data-label-style="float" data-label-width="0">
        <h4><label for="cache-location">@Localizer["Cache location"]</label></h4>
        <div class="flex-container">
            <select id="cache-location" class="combo-select" data-kendo-control="kendoDropDownList" name="cacheLocation">
                <!option value="@((int)TemplateCachingLocations.InMemory)" @(Model.CacheLocation == TemplateCachingLocations.InMemory ? "selected" : "")>@Localizer["In memory"]</!option>
                <!option value="@((int)TemplateCachingLocations.OnDisk)" @(Model.CacheLocation == TemplateCachingLocations.OnDisk ? "selected" : "")>@Localizer["On hard disk"]</!option>
            </select>
        </div>
        <div class="form-hint"><span>@Localizer["Where should the cache be stored? In memory is the fastest, but this cache is lost when the application pool is restarted."]</span></div>
    </div>

    <div class="item" data-label-style="float" data-label-width="0">
        <h4><label for="cacheMinutes">@Localizer["Cache number of minutes"]</label></h4>
        <span class="k-widget k-input k-state-default">
            <input type="number" id="cacheMinutes" class="textField k-input" name="cacheMinutes" value="@Model.CacheMinutes" autocomplete="off" pattern=".*">
        </span>
        <div class="form-hint"><span>@Localizer["How long should the cache be kept? If this value is 0 or less, the setting 'GCL.DefaultTemplateCacheDuration' will be used for the appsettings.json."]</span></div>
    </div>

    <div class="item" data-label-style="float" data-label-width="0">
        <h4><label for="insertMode">@Localizer["Insert mode"]</label></h4>
        <div class="flex-container">
            <select id="insertMode" class="combo-select" name="insertMode" data-kendo-control="kendoDropDownList">
                @foreach (var value in Enum.GetValues(Model.InsertMode.GetType()))
                {
                    <!option value="@((int)value)" @((int)Model.InsertMode == (int)value ? "selected" : "")>@value.ToString()</!option>
                }
            </select>
        </div>
        <div class="form-hint"><span>@Localizer["How and where on the page should this Javascript-template be added?"]</span></div>
    </div>

    <ul class="checkColumns">
        <li>
            <label class="checkbox">
                <input id="loadAlways" name="loadAlways" type="checkbox" @(Model.LoadAlways ? "checked" : "")>
                <span>@Localizer["Load on every page"]</span>
            </label>
        </li>
        <li>
            <label class="checkbox">
                <input id="disableMinifier" name="disableMinifier" type="checkbox" @(Model.DisableMinifier ? "checked" : "")>
                <span>@Localizer["Disable minifier"]</span>
            </label>
        </li>
    </ul>

    <div class="item" data-label-style="float" data-label-width="0">
        <h4><label for="urlRegex">@Localizer["URL Regex"]</label></h4>
        <span class="k-widget k-input k-state-default">
            <input type="text" id="urlRegex" class="textField k-input" name="urlRegex" value="@Model.UrlRegex" autocomplete="off" pattern=".*">
        </span>
        <div class="form-hint"><span>@Localizer["The regular expression that the URL must meet to load this generic template."]</span></div>
    </div>
</div>

<div class="item item-right" style="width: 50%;">
    <div class="item">
        <h4><label>@Localizer["External files"]</label></h4>
        <div id="externalFiles" data-kendo-control="kendoGrid"></div>
    </div>
    <div class="form-hint"><span>@Localizer["If there is javascript from a CDN or similar, needs to be loaded, its URLs can be entered here."]</span></div>
</div>